## Валидация новой модели
Spacy отдает метрики при обучении, но для этого необходимо создавать валидационный датасет.  
Поскольку этого не было сделано, создан скрипт для валидации модели в любой момент времени.  

## Подготовка данных
Подготовка данных выполнена и сохранена в файле `test_dataset\ethalons.json`  
Если необходимо создать новый файл, то:
1. В файл `eval_data.xlsx` сохраняем список текстов в колонку full_text
2. Запускаем файл prepare_test_data.py
3. В результате получаем файл `test_dataset\model_annotated.json`

4. В нем необходимо исправить ошибки. В него сохраняются номера токенов и тексты сущностей для удобства. 
5. Исправленный файл сохраняем под названием `test_dataset\ethalons.json`

## Валидация новой модели на старых данных  
6. В файле `eval_model.py` указываем путь к модели
7. Запускаем `eval_model.py`

## Трекинг метрик TODO
Сделать DVC-MLflow

## Автотесты с отличиями TODO
Сделать как в NewsNer сохранение файлов выдачи с возможностью сравнения

### Заметки
Может не работать на локальной машине, можно воспользоваться докером

### Запуск в докере
```
docker build -t spacy-eval:v1 -f Dockerfile .
docker run --rm -it --name eval-temp -v "$PWD":/usr/src spacy-eval:v1 bash
```
